<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- <link rel="icon" type="image/svg+xml" href="/vite.svg" /> -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
  <link rel="icon" href="/dreampills-OC/assets/favicon-zATTDC6k.ico" type="image/x-icon">
  <script>
   import './style.css'

document.addEventListener('click', function (e) {
    const click = document.createElement('div');
    click.classList.add('click');
    document.body.appendChild(click);

    const x = e.pageX;
    const y = e.pageY;
    console.log(x,y, e);

    click.style.left = `${x}px`;
    click.style.top = `${y}px`;

    click.style.width = `81px`;
    click.style.height = `122px`;

    click.addEventListener('animationend', () => {
        click.remove();
    });
});

const container = document.getElementById('container-dvd');
const dvds = document.querySelectorAll('.dvd');
const directions = Array.from(dvds).map(() => ({
    x: Math.random() < 0.5 ? 1 : -1,
    y: Math.random() < 0.5 ? 1 : -1,
    speedX: Math.random() * 2 + 1,
    speedY: Math.random() * 2 + 1
}));
function animate() {
    dvds.forEach((dvd, index) => {
        const rect = dvd.getBoundingClientRect();
        const containerRect = container.getBoundingClientRect();

        if (rect.left <= containerRect.left) {
            directions[index].x = Math.abs(directions[index].x);
        }
        if (rect.right >= containerRect.right) {
            directions[index].x = -Math.abs(directions[index].x);
        }
        if (rect.top <= containerRect.top) {
            directions[index].y = Math.abs(directions[index].y);
        }
        if (rect.bottom >= containerRect.bottom) {
            directions[index].y = -Math.abs(directions[index].y);
        }

        const currentX = parseFloat(dvd.style.left || 0);
        const currentY = parseFloat(dvd.style.top || 0);

        dvd.style.left = currentX + directions[index].speedX * directions[index].x + 'px';
        dvd.style.top = currentY + directions[index].speedY * directions[index].y + 'px';
    });

    requestAnimationFrame(animate);
}

dvds.forEach(dvd => {
    dvd.style.left = Math.random() * (window.innerWidth - dvd.offsetWidth) + 'px';
    dvd.style.top = Math.random() * (window.innerHeight - dvd.offsetHeight) + 'px';
});

animate();
    
    </script>
    
    <title>Dreampills oc - main</title>
    <script type="module" crossorigin src="/dreampills-OC/assets/index-HXbj9sLv.js"></script>
    <link rel="stylesheet" crossorigin href="/dreampills-OC/assets/index-CUPp1wyK.css">
  </head>
  <body>
    <div id="app"></div>

  </body>
</html>
